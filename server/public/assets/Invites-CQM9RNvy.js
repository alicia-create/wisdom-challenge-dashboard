import{n as D,t as n,f as t,j as e,a as C,C as v,c as x,d as g,m as N,e as p,B as l}from"./index-bSk5r2dW.js";import{r as I}from"./router-ClsQZdgV.js";import{I as f}from"./input-BE03VtOC.js";import{B as A}from"./badge-DatuECWl.js";import{C as w}from"./circle-x-BgvcscmG.js";import{C as M}from"./circle-check-big-oVQWJwgD.js";import{C as S}from"./clock-BA1f0EVj.js";import{M as L}from"./mail-CpR7z-b6.js";import"./react-vendor-DE-WNy_D.js";import"./ui-Do3QT4vV.js";import"./utils-DXYZFL4c.js";import"./charts-j6iz4hrz.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=D("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function J(){const[c,u]=I.useState(""),[i,E]=I.useState(7),{data:r,isLoading:j,refetch:o}=n.invites.list.useQuery(),d=n.invites.create.useMutation({onSuccess:s=>{t.success("Invite created successfully!"),navigator.clipboard.writeText(s.inviteUrl),t.info("Invite URL copied to clipboard"),u(""),o()},onError:s=>{t.error(`Failed to create invite: ${s.message}`)}}),m=n.invites.revoke.useMutation({onSuccess:()=>{t.success("Invite revoked"),o()},onError:s=>{t.error(`Failed to revoke invite: ${s.message}`)}}),h=n.invites.delete.useMutation({onSuccess:()=>{t.success("Invite deleted"),o()},onError:s=>{t.error(`Failed to delete invite: ${s.message}`)}}),b=()=>{if(!c){t.error("Please enter an email address");return}d.mutate({email:c,expiresInDays:i})},V=s=>{const a=`https://manus.im?invite=${s}`;navigator.clipboard.writeText(a),t.success("Invite URL copied to clipboard")},y=s=>s.revokedAt?{label:"Revoked",variant:"destructive",icon:w}:s.usedAt?{label:"Used",variant:"secondary",icon:M}:new Date(s.expiresAt)<new Date?{label:"Expired",variant:"outline",icon:S}:{label:"Active",variant:"default",icon:L};return e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:79",className:"min-h-screen bg-background",children:[e.jsxDEV(C,{"data-loc":"client/src/pages/Invites.tsx:80"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:80,columnNumber:7},this),e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:81",className:"container py-8 space-y-6",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:83",children:[e.jsxDEV("h1",{"data-loc":"client/src/pages/Invites.tsx:84",className:"text-3xl font-bold mb-2",children:"Invite Management"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:85",className:"text-muted-foreground",children:"Generate invite links for users outside @pedroadao.com domain"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(v,{"data-loc":"client/src/pages/Invites.tsx:91",children:[e.jsxDEV(x,{"data-loc":"client/src/pages/Invites.tsx:92",children:[e.jsxDEV(g,{"data-loc":"client/src/pages/Invites.tsx:93",children:"Create New Invite"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:93,columnNumber:13},this),e.jsxDEV(N,{"data-loc":"client/src/pages/Invites.tsx:94",children:"Generate an invite link for a specific email address"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:92,columnNumber:11},this),e.jsxDEV(p,{"data-loc":"client/src/pages/Invites.tsx:98",className:"space-y-4",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:99",className:"flex gap-4",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:100",className:"flex-1",children:e.jsxDEV(f,{"data-loc":"client/src/pages/Invites.tsx:101",type:"email",placeholder:"user@example.com",value:c,onChange:s=>u(s.target.value),onKeyDown:s=>{s.key==="Enter"&&b()}},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:101,columnNumber:17},this)},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:100,columnNumber:15},this),e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:113",className:"w-32",children:e.jsxDEV(f,{"data-loc":"client/src/pages/Invites.tsx:114",type:"number",min:1,max:30,value:i,onChange:s=>E(parseInt(s.target.value)||7),placeholder:"Days"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:114,columnNumber:17},this)},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:113,columnNumber:15},this),e.jsxDEV(l,{"data-loc":"client/src/pages/Invites.tsx:123",onClick:b,disabled:d.isPending,children:d.isPending?"Creating...":"Create Invite"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:130",className:"text-sm text-muted-foreground",children:["Invite will expire in ",i," day",i!==1?"s":""]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:91,columnNumber:9},this),e.jsxDEV(v,{"data-loc":"client/src/pages/Invites.tsx:137",children:[e.jsxDEV(x,{"data-loc":"client/src/pages/Invites.tsx:138",children:[e.jsxDEV(g,{"data-loc":"client/src/pages/Invites.tsx:139",children:"All Invites"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:139,columnNumber:13},this),e.jsxDEV(N,{"data-loc":"client/src/pages/Invites.tsx:140",children:"Manage existing invites"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:138,columnNumber:11},this),e.jsxDEV(p,{"data-loc":"client/src/pages/Invites.tsx:144",children:j?e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:146",className:"text-muted-foreground",children:"Loading invites..."},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:146,columnNumber:15},this):!r||r.length===0?e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:148",className:"text-muted-foreground",children:"No invites created yet"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:148,columnNumber:15},this):e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:150",className:"space-y-3",children:r.map(s=>{const a=y(s),k=a.icon;return e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:156",className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:160",className:"flex-1 space-y-1",children:[e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:161",className:"flex items-center gap-2",children:[e.jsxDEV("span",{"data-loc":"client/src/pages/Invites.tsx:162",className:"font-medium",children:s.email},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:162,columnNumber:27},this),e.jsxDEV(A,{"data-loc":"client/src/pages/Invites.tsx:163",variant:a.variant,children:[e.jsxDEV(k,{"data-loc":"client/src/pages/Invites.tsx:164",className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:164,columnNumber:29},this),a.label]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:163,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:161,columnNumber:25},this),e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:168",className:"text-sm text-muted-foreground space-y-0.5",children:[e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:169",children:["Created by ",s.createdBy," on ",new Date(s.createdAt).toLocaleDateString()]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:169,columnNumber:27},this),e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:170",children:["Expires: ",new Date(s.expiresAt).toLocaleDateString()]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:170,columnNumber:27},this),s.usedAt&&e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:172",className:"text-green-600",children:["Used on ",new Date(s.usedAt).toLocaleDateString()]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:172,columnNumber:29},this),s.revokedAt&&e.jsxDEV("p",{"data-loc":"client/src/pages/Invites.tsx:175",className:"text-destructive",children:["Revoked on ",new Date(s.revokedAt).toLocaleDateString()]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:175,columnNumber:29},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:168,columnNumber:25},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:160,columnNumber:23},this),e.jsxDEV("div",{"data-loc":"client/src/pages/Invites.tsx:180",className:"flex items-center gap-2",children:[!s.usedAt&&!s.revokedAt&&new Date(s.expiresAt)>new Date&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l,{"data-loc":"client/src/pages/Invites.tsx:183",variant:"outline",size:"sm",onClick:()=>V(s.token),children:[e.jsxDEV(U,{"data-loc":"client/src/pages/Invites.tsx:188",className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:188,columnNumber:31},this),"Copy Link"]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:183,columnNumber:29},this),e.jsxDEV(l,{"data-loc":"client/src/pages/Invites.tsx:191",variant:"outline",size:"sm",onClick:()=>m.mutate({inviteId:s.id}),disabled:m.isPending,children:[e.jsxDEV(w,{"data-loc":"client/src/pages/Invites.tsx:197",className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:197,columnNumber:31},this),"Revoke"]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:191,columnNumber:29},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:182,columnNumber:27},this),e.jsxDEV(l,{"data-loc":"client/src/pages/Invites.tsx:202",variant:"ghost",size:"sm",onClick:()=>h.mutate({inviteId:s.id}),disabled:h.isPending,children:e.jsxDEV(B,{"data-loc":"client/src/pages/Invites.tsx:208",className:"h-4 w-4"},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:208,columnNumber:27},this)},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:202,columnNumber:25},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:180,columnNumber:23},this)]},s.id,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:156,columnNumber:21},this)})},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:150,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:137,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/wisdom-challenge-dashboard/client/src/pages/Invites.tsx",lineNumber:79,columnNumber:5},this)}export{J as default};
